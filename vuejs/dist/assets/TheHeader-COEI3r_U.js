import{c as n,A as h,h as R,s as te,i as ne,v as B,r as H,a as d,b,d as P,e as a,w as o,u as l,B as re,f as m,t as A,D as oe,k as se,l as ae}from"./index-uDXqgQ0i.js";import{c as ie}from"./createUser-sn41MZ5M.js";import{U as O}from"./UserOutlined-C6Ifm4N5.js";var le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"};const ce=le;function M(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},s=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),s.forEach(function(i){ue(r,i,e[i])})}return r}function ue(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var S=function(t,e){var s=M({},t,e.attrs);return n(h,M({},s,{icon:ce}),null)};S.displayName="BarChartOutlined";S.inheritAttrs=!1;const de=S;var me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M448 224a64 64 0 10128 0 64 64 0 10-128 0zm96 168h-64c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V400c0-4.4-3.6-8-8-8z"}}]},name:"info",theme:"outlined"};const fe=me;function I(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},s=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),s.forEach(function(i){pe(r,i,e[i])})}return r}function pe(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var C=function(t,e){var s=I({},t,e.attrs);return n(h,I({},s,{icon:fe}),null)};C.displayName="InfoOutlined";C.inheritAttrs=!1;const ge=C;var _e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const he=_e;function F(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},s=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),s.forEach(function(i){ve(r,i,e[i])})}return r}function ve(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var L=function(t,e){var s=F({},t,e.attrs);return n(h,F({},s,{icon:he}),null)};L.displayName="LockOutlined";L.inheritAttrs=!1;const j=L;var be={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"};const Oe=be;function D(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},s=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),s.forEach(function(i){ye(r,i,e[i])})}return r}function ye(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var U=function(t,e){var s=D({},t,e.attrs);return n(h,D({},s,{icon:Oe}),null)};U.displayName="LogoutOutlined";U.inheritAttrs=!1;const xe=U;var we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112c-3.8 0-7.7.7-11.6 2.3L292 345.9H128c-8.8 0-16 7.4-16 16.6v299c0 9.2 7.2 16.6 16 16.6h101.7c-3.7 11.6-5.7 23.9-5.7 36.4 0 65.9 53.8 119.5 120 119.5 55.4 0 102.1-37.6 115.9-88.4l408.6 164.2c3.9 1.5 7.8 2.3 11.6 2.3 16.9 0 32-14.2 32-33.2V145.2C912 126.2 897 112 880 112zM344 762.3c-26.5 0-48-21.4-48-47.8 0-11.2 3.9-21.9 11-30.4l84.9 34.1c-2 24.6-22.7 44.1-47.9 44.1zm496 58.4L318.8 611.3l-12.9-5.2H184V417.9h121.9l12.9-5.2L840 203.3v617.4z"}}]},name:"notification",theme:"outlined"};const ke=we;function E(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},s=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),s.forEach(function(i){Pe(r,i,e[i])})}return r}function Pe(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var N=function(t,e){var s=E({},t,e.attrs);return n(h,E({},s,{icon:ke}),null)};N.displayName="NotificationOutlined";N.inheritAttrs=!1;const je=N,Se="/assets/logo-pPTuHPGb.png",Ce=async(r,t)=>{try{return(await axios.post(`${R.baseURL}/auth/login`,{email:r,password:t})).data}catch(e){throw e}},Le=async()=>{try{const t={Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`};return(await axios.post(`${R.baseURL}/auth/logout`,{},{headers:t})).status===200}catch(r){console.log(r)}},Ue={class:"app-header flex justify-center align-items-center"},Ne={class:"app-container flex align-items-stretch justify-between fixed-top z-10 bg-primary-white-color"},ze={class:"flex sm:justify-between w-100"},$e={class:"flex d-sm-flex"},Ve={class:"app-header-logo flex align-items-center justify-center gap-2 me-lg-5"},Be=a("img",{src:Se,alt:"Logo",class:"app-header-logo-image",style:{height:"50px"}},null,-1),He={class:"app-header-control-menu"},Ae={class:"app-control-menu-item"},Me={key:0,class:"flex align-items-center space-x-4"},Ie={class:"max-h-[440px] max-w-[580px]"},Fe={class:"flex align-items-center mt-5 cursor-pointer"},De={class:"type me-3"},Ee=a("div",{class:"flex flex-col content"},[a("div",{class:"detail"}," Đăng ký tham dự miễn phí Báo cáo thị trường BĐS Quý 1/2024 "),a("div",{class:"day"},"20/10/2024")],-1),Re={class:"flex align-items-center mt-3 cursor-pointer"},qe={class:"type me-3"},Te=a("div",{class:"flex flex-col content"},[a("div",{class:"detail"}," Số điện thoại 0373388843 đã được thêm vào danh sách liên lạc của bạn. Xem chi tiết tại đây. "),a("div",{class:"day"},"20/10/2024")],-1),Qe=a("h2",null,"Thông báo",-1),Ge=a("span",{class:"animate-ping absolute inline-flex h-2 w-2 rounded-full bg-sky-400 opacity-75 right-[7px] top-[-3px]"},null,-1),Xe=a("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-sky-500 right-[5px] top-[-5px]"},null,-1),Je={class:"n:px-2 md:px-4 border-x-[1px]"},We={class:"flex justify-center align-items-center cursor-pointer"},Ye={class:"text-selected-color"},Ze={class:"d-none d-sm-block"},Ke={class:"mx-2"},et={key:1,class:"flex"},tt={class:"flex border-x-[1px]"},nt={class:"px-2 sm:px-4 border-r-[1px]"},rt=a("a",{class:"login-form-forgot",href:""},"Quên mật khẩu",-1),ot={class:"px-4"},st={},ct=Object.assign(st,{__name:"TheHeader",setup(r){const t=te(),e=ne({username:"",password:"",registerName:"",registerUsername:"",registerPassword:"",registerPasswordConfirm:""}),s=f=>{_.value=!1},i=f=>{},q=async()=>{const f=await Ce(e.username,e.password);f&&t.login(f.token,f)},T=async()=>{await Le()&&t.logout()},Q=async()=>{const f={name:e.registerName,email:e.registerUsername,password:e.registerPassword};await ie(f)},G=B(()=>!(e.username&&e.password)),X=B(()=>!(e.registerUsername&&e.registerPassword&&e.registerPasswordConfirm&&e.registerName)),_=H(!1),J=()=>{_.value=!0},y=H(!1),z=()=>{_.value=!1,y.value=!0};return(f,c)=>{const v=d("router-link"),g=d("a-button"),W=d("a-badge"),Y=d("a-popover"),x=d("a-menu-item"),Z=d("a-menu"),K=d("a-avatar"),ee=d("a-dropdown"),w=d("a-input"),p=d("a-form-item"),k=d("a-input-password"),$=d("a-form"),V=d("a-modal");return b(),P("div",Ue,[a("div",Ne,[a("div",ze,[a("div",$e,[a("div",Ve,[n(v,{to:"/"},{default:o(()=>[Be]),_:1})])]),a("div",He,[a("div",Ae,[l(t).token?(b(),P("div",Me,[n(Y,{placement:"bottomRight",trigger:"click",class:"flex"},{content:o(()=>[a("div",Ie,[a("div",Fe,[a("div",De,[n(l(O),{style:{fontSize:"24px"}})]),Ee]),a("div",Re,[a("div",qe,[n(l(re),{style:{fontSize:"24px"}})]),Te])])]),title:o(()=>[Qe]),default:o(()=>[n(W,null,{default:o(()=>[n(g,{class:"flex justify-center align-items-center"},{default:o(()=>[n(l(je))]),_:1}),Ge,Xe]),_:1})]),_:1}),a("div",Je,[n(ee,{placement:"bottom",trigger:"click"},{overlay:o(()=>[n(Z,{class:""},{default:o(()=>[n(x,{key:"1"},{default:o(()=>[n(l(de)),m(" Quản lý tin đăng "),n(v,{to:"/user/news-manage"})]),_:1}),n(x,{key:"3"},{default:o(()=>[n(l(ge)),m(" Thay đổi thông tin các nhân ")]),_:1}),n(x,{key:"4",onClick:T,class:"mt-2 border-t-[1px]"},{default:o(()=>[n(l(xe)),m(" Đăng xuất ")]),_:1})]),_:1})]),default:o(()=>[a("div",We,[n(K,{size:"large",class:"me-2",style:{backgroundColor:"#ffeceb",verticalAlign:"middle"}},{default:o(()=>[a("span",Ye,A(l(t).user.name[0]),1)]),_:1}),a("div",Ze,A(l(t).user.name),1),a("div",Ke,[n(l(oe))])])]),_:1})]),n(v,{to:"/user/news-form"},{default:o(()=>[n(g,{class:""},{default:o(()=>[m(" Đăng tin ")]),_:1})]),_:1})])):(b(),P("div",et,[a("div",tt,[a("div",nt,[n(g,{class:"border-0",onClick:J},{default:o(()=>[m(" Đăng nhập ")]),_:1}),n(V,{class:"top-[20%]",open:_.value,"onUpdate:open":c[2]||(c[2]=u=>_.value=u),title:"Đăng nhập để tiếp tục"},{footer:o(()=>[]),default:o(()=>[n($,{model:e,name:"normal_login",class:"login-form ml-auto mr-auto mt-4",onFinish:s,onFinishFailed:i},{default:o(()=>[n(p,{name:"username",rules:[{required:!0,message:"Hãy nhập email!"}]},{default:o(()=>[n(w,{value:e.username,"onUpdate:value":c[0]||(c[0]=u=>e.username=u),placeholder:"Email"},{prefix:o(()=>[n(l(O),{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1}),n(p,{name:"password",rules:[{required:!0,message:"Hãy nhập mật khẩu!"}]},{default:o(()=>[n(k,{value:e.password,"onUpdate:value":c[1]||(c[1]=u=>e.password=u),placeholder:"Mật khẩu"},{prefix:o(()=>[n(l(j),{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1}),n(p,null,{default:o(()=>[rt]),_:1}),n(p,null,{default:o(()=>[n(g,{disabled:G.value,type:"primary","html-type":"submit",class:"login-form-button mb-3",onClick:q},{default:o(()=>[m(" Đăng nhập ")]),_:1},8,["disabled"]),m(" Hoặc "),a("div",{class:"text-[#0891b2] hover:text-[#22d3ee] cursor-pointer inline ml-2",onClick:z}," Đăng ký ngay! ")]),_:1})]),_:1},8,["model"])]),_:1},8,["open"])]),a("div",ot,[n(g,{class:"border-0",onClick:z},{default:o(()=>[m(" Đăng ký ")]),_:1}),n(V,{class:"top-[20%]",open:y.value,"onUpdate:open":c[7]||(c[7]=u=>y.value=u),title:"Đăng ký tài khoản mới"},{footer:o(()=>[]),default:o(()=>[n($,{model:e,name:"normal_register",class:"register-form ml-auto mr-auto mt-4",onFinish:s,onFinishFailed:i},{default:o(()=>[n(p,{name:"registerName",rules:[{required:!0,message:"Hãy nhập tên!"}]},{default:o(()=>[n(w,{placeholder:"Tên",value:e.registerName,"onUpdate:value":c[3]||(c[3]=u=>e.registerName=u)},{prefix:o(()=>[n(l(O),{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1}),n(p,{name:"registerUsername",rules:[{required:!0,message:"Hãy nhập email!"}]},{default:o(()=>[n(w,{placeholder:"Email",value:e.registerUsername,"onUpdate:value":c[4]||(c[4]=u=>e.registerUsername=u)},{prefix:o(()=>[n(l(O),{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1}),n(p,{name:"registerPassword",rules:[{required:!0,message:"Hãy nhập mật khẩu!"}]},{default:o(()=>[n(k,{value:e.registerPassword,"onUpdate:value":c[5]||(c[5]=u=>e.registerPassword=u),placeholder:"Mật khẩu"},{prefix:o(()=>[n(l(j),{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1}),n(p,{name:"registerPasswordConfirm",rules:[{required:!0,compare:e.registerPassword,message:"Không trùng khớp mật khẩu!"}]},{default:o(()=>[n(k,{value:e.registerPasswordConfirm,"onUpdate:value":c[6]||(c[6]=u=>e.registerPasswordConfirm=u),placeholder:"Nhập lại mật khẩu"},{prefix:o(()=>[n(l(j),{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1},8,["rules"]),n(p,null,{default:o(()=>[n(g,{disabled:X.value,type:"primary","html-type":"submit",class:"register-form-button mb-3",onClick:Q},{default:o(()=>[m(" Đăng ký ")]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"])])]),n(v,{to:"/user/news-form"},{default:o(()=>[l(t).token?(b(),se(g,{key:0},{default:o(()=>[m(" Đăng tin ")]),_:1})):ae("",!0)]),_:1})]))])])])])])}}});export{ct as _};
